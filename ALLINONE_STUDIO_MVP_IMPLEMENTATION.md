# 올인원 스튜디오 MVP 구현 스펙

## ✅ 완성된 4단계

### STEP 1: MVP 기준 기능 최소 세트 정의 ✅
- **파일**: `lib/allinone-studio/mvp/mvp-feature-set.ts`
- **내용**:
  - MVP 핵심 기능 목록 (필수 / 제외 명확히)
  - 사용자 핵심 사용 시나리오 (첫 숏폼 생성)
  - MVP 성공 기준 (정량/정성)
  - 출시 후 확장 로드맵 (Phase 1/2/3)
  - 지금 만들면 망하는 기능 목록
- **결정사항**:
  - ✅ 포함: 숏폼 생성, 캐릭터 생성, 음성+자막, 렌더링, 기본 편집
  - ❌ 제외: 영화 모드, 3D 애니메이션, 마켓플레이스, 팀 협업

### STEP 2: GPU 1대 기준 서버 배치 전략 ✅
- **파일**: `lib/allinone-studio/infrastructure/gpu-server-deployment.ts`
- **내용**:
  - 전체 서버 구성도 (GPU 서버 1대 + CPU 서버 1대)
  - GPU 작업 우선순위 큐 설계
  - 작업 스케줄링 전략
  - 동시 요청 제한 정책
  - 장애 발생 시 대응 전략
  - 비용 최소화 전략
- **결정사항**:
  - GPU 서버: LLM(2), 이미지(1), TTS(3) 동시 실행
  - CPU 서버: 렌더링(2), API(100) 동시 실행
  - 사용자별 제한: 무료(LLM 10/시간, 이미지 5/시간, 렌더링 3/시간)

### STEP 3: 숏폼 자동 생성 전체 실제 코드 흐름 ✅
- **파일**: `lib/allinone-studio/backend/shortform-generation-flow.ts`
- **내용**:
  - 전체 처리 플로우 (9단계, 순서 고정)
  - 단계별 함수 책임
  - 데이터 전달 구조
  - 비동기/큐 처리 지점
  - 실패 시 재시도 흐름
- **처리 흐름**:
  1. API 요청 수신
  2. 프롬프트 정제
  3. 스크립트 생성 (LLM)
  4. Scene JSON 생성
  5. 캐릭터 생성 (이미지)
  6. 음성 생성 (TTS)
  7. 자막 생성
  8. FFmpeg 렌더링
  9. 결과 반환

### STEP 4: freeshell 기준 기능 통합 설계 ✅
- **파일**: `lib/allinone-studio/integration/freeshell-integration.ts`
- **내용**:
  - 기존 freeshell 기능 vs 신규 기능 매핑
  - 메뉴 통합 구조
  - 사용자 흐름 변화
  - 점진적 기능 공개 전략
  - 기존 사용자 이탈 방지 전략
- **통합 방식**:
  - 신규 메뉴: "콘텐츠 스튜디오" 추가
  - 기존 기능: 변경 없음
  - 공통 컴포넌트/API 재사용

## 📊 핵심 결정사항

### 1. MVP 기능 범위
```
✅ 포함:
- 숏폼 자동 생성
- 캐릭터 생성 (2D)
- 음성 + 자막
- 자동 렌더링
- 기본 편집
- 프리뷰
- 다운로드

❌ 제외:
- 영화 제작 모드
- 고급 3D 애니메이션
- 마켓/플러그인
- 팀 협업
```

### 2. 서버 구성
```
GPU 서버 (1대):
- LLM: 2개 동시 실행
- 이미지 생성: 1개 동시 실행
- TTS: 3개 동시 실행

CPU 서버 (1대):
- 렌더링: 2개 동시 실행
- API: 100개 동시 실행
```

### 3. 사용자 제한
```
무료 사용자:
- LLM 요청: 10/시간
- 이미지 요청: 5/시간
- 렌더링 요청: 3/시간
```

### 4. 통합 전략
```
메뉴 구조:
- 기존 메뉴: 변경 없음
- 신규 메뉴: "콘텐츠 스튜디오" 추가
  - 숏폼 만들기
  - Scene 에디터
  - 캐릭터 생성
  - 렌더링 관리
```

## 🎯 MVP 성공 기준

### 정량적 기준
- 첫 영상 생성 성공률: >= 80%
- 평균 생성 시간: <= 3분
- 1일 사용자 유지율: >= 40%
- API 성공률: >= 95%
- 렌더링 성공률: >= 90%

### 정성적 기준
- 사용자 만족도: >= 4.0 / 5.0
- 영상 품질: 사용 가능한 수준
- 사용 편의성: 설명 없이 사용 가능

## 📁 파일 구조

```
lib/allinone-studio/
├── mvp/
│   └── mvp-feature-set.ts              # STEP 1
├── infrastructure/
│   └── gpu-server-deployment.ts        # STEP 2
├── backend/
│   └── shortform-generation-flow.ts    # STEP 3
└── integration/
    └── freeshell-integration.ts       # STEP 4
```

## 🚀 구현 우선순위

### Phase 1 (MVP) - 1-2개월
1. 숏폼 자동 생성
2. 기본 캐릭터 생성
3. 음성 + 자막
4. 자동 렌더링
5. 기본 편집

### Phase 2 (Growth) - 2-3개월
1. 템플릿 라이브러리
2. 캐릭터 커스터마이징 확대
3. 음성 옵션 확대
4. 자막 스타일 확대
5. 배경 음악 추가

### Phase 3 (Scale) - 3-6개월
1. 영화 제작 모드
2. 3D 캐릭터 지원
3. 고급 애니메이션
4. 플러그인 시스템
5. 팀 협업

## ⚠️ 주의사항

### 지금 만들면 망하는 기능
- 과도한 아키텍처
- 너무 이른 성능 최적화
- 과도한 옵션 제공
- 복잡한 UI
- 너무 이른 유료화
- 소셜 기능
- 과도한 분석 도구

### 서버 운영 주의사항
- GPU 리소스 관리 필수
- 작업 큐 우선순위 관리
- 동시 요청 제한 준수
- 장애 대응 전략 준비
- 비용 최소화 전략 적용

---

**올인원 스튜디오 MVP 구현 스펙이 완성되었습니다!** 🎬
