# ì‚¬ì§„ â†’ ëª¨ì…˜ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ (ì‹¤ì„œë¹„ìŠ¤ ë²„ì „)

## âœ… êµ¬í˜„ ì™„ë£Œ í•­ëª©

### 1. ëª¨ì…˜ ë°ì´í„° ìŠ¤í‚¤ë§ˆ (JSON) âœ…
- `motion_schema_final.json`: ì™„ì „í•œ JSON ìŠ¤í‚¤ë§ˆ
- ëª¨ë“  í•„ë“œ íƒ€ì… ë° ì˜ˆì‹œ í¬í•¨
- ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ êµ¬ì¡°

### 2. ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ âœ…
- `processing_steps.md`: ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…
- 7ë‹¨ê³„ ì²˜ë¦¬ íë¦„
- Fallback ì „ëµ

### 3. AI ê¸°ë°˜ vs Rule ê¸°ë°˜ ë¹„êµ âœ…
- `motion_comparison.md`: ìƒì„¸ ë¹„êµ
- 4ê°€ì§€ ë°©ì‹ ë¹„êµ
- ì„±ëŠ¥ ë¹„êµí‘œ

### 4. MVPì—ì„œ ê°€ëŠ¥í•œ ìˆ˜ì¤€ ì •ì˜ âœ…
- í¬í•¨ ê°€ëŠ¥ ê¸°ëŠ¥ ëª…ì‹œ
- ì œì™¸ ê¸°ëŠ¥ ëª…ì‹œ (ì—°êµ¬ ë‹¨ê³„)
- í˜„ì‹¤ì  ë²”ìœ„ ì„¤ì •

### 5. í™•ì¥ ê°€ëŠ¥ì„± âœ…
- Phase 1, 2, 3 ê³„íš
- ë‹¨ê³„ë³„ ê¸°ëŠ¥ ì¶”ê°€
- ì¥ê¸° ë¡œë“œë§µ

## í•µì‹¬ êµ¬í˜„

### ëª¨ì…˜ ë°ì´í„° ìŠ¤í‚¤ë§ˆ

```json
{
  "image_path": "character.jpg",
  "duration": 5.0,
  "expressions": [
    {
      "type": "happy",
      "intensity": 0.8,
      "duration": 5.0,
      "start_time": 0.0
    }
  ],
  "eye": {
    "blink_interval": 3.0,
    "blink_duration": 0.15
  },
  "breath": {
    "cycle_duration": 3.0,
    "intensity": 0.02
  },
  "head": {
    "nod_enabled": true,
    "duration": 1.0
  }
}
```

### ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

```python
# 1. ê¸°ë³¸: ì‚¬ì „ ì •ì˜ ëª¨ì…˜
motion = templates.get_default_motion(duration)

# 2. í–¥ìƒ: í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì„ íƒ
motion = pipeline._select_motion_from_prompt(prompt, motion)

# 3. ê³ ê¸‰: AI ëª¨ì…˜ ìƒì„± (ì„ íƒì )
if use_ai:
    ai_result = await pipeline._generate_ai_motion(...)
    if ai_result.success:
        motion = ai_result.motion_data

# 4. ì‹¤íŒ¨: ê·œì¹™ ê¸°ë°˜ ìë™ ì ìš©
# (ì´ë¯¸ ì ìš©ë¨)
```

### AI vs Rule ë¹„êµ

| ë°©ì‹ | ì†ë„ | ë¹„ìš© | í’ˆì§ˆ | ì•ˆì •ì„± |
|------|------|------|------|--------|
| ê¸°ë³¸ í…œí”Œë¦¿ | < 0.1ì´ˆ | ì—†ìŒ | ì¤‘ê°„ | 100% |
| í”„ë¡¬í”„íŠ¸ ì„ íƒ | < 0.5ì´ˆ | ì—†ìŒ | ì¤‘ìƒ | 100% |
| AI ìƒì„± | 5-30ì´ˆ | ìˆìŒ | ë†’ìŒ | 70-90% |
| ê·œì¹™ ê¸°ë°˜ | < 0.5ì´ˆ | ì—†ìŒ | ì¤‘ê°„ | 100% |

## MVPì—ì„œ ê°€ëŠ¥í•œ ìˆ˜ì¤€

### âœ… í¬í•¨ ê°€ëŠ¥

1. **ê¸°ë³¸ í…œí”Œë¦¿ ëª¨ì…˜**
   - ì¤‘ë¦½/í–‰ë³µ/ì°¨ë¶„/í¥ë¶„ í‘œì •
   - ëˆˆ ê¹œë¹¡ì„
   - í˜¸í¡ ëª¨ì…˜
   - ê³ ê°œ ì›€ì§ì„ (ê¸°ë³¸)

2. **í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì„ íƒ**
   - í‚¤ì›Œë“œ ë§¤ì¹­
   - ëª¨ì…˜ ì¡°í•©
   - ê°•ë„ ì¡°ì ˆ

3. **FFmpeg ê¸°ë°˜ ì ìš©**
   - ìŠ¤ì¼€ì¼ ë³€í™” (í˜¸í¡)
   - ê°„ë‹¨í•œ ì›€ì§ì„
   - ìë§‰ ì˜¤ë²„ë ˆì´

### âŒ ì œì™¸ (ì—°êµ¬ ë‹¨ê³„)

1. ê³ ê¸‰ ì–¼êµ´ ì• ë‹ˆë©”ì´ì…˜
2. ë¬¼ë¦¬ ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜
3. AI ê¸°ë°˜ ì‹¤ì‹œê°„ ìƒì„±

## í™•ì¥ ê°€ëŠ¥ì„±

### Phase 1 (MVP)
- âœ… ê¸°ë³¸ í…œí”Œë¦¿
- âœ… í”„ë¡¬í”„íŠ¸ ì„ íƒ
- âœ… FFmpeg ì ìš©

### Phase 2 (3-6ê°œì›”)
- â­ï¸ AI ëª¨ì…˜ ìƒì„±
- â­ï¸ ë” ë§ì€ í…œí”Œë¦¿
- â­ï¸ ëª¨ì…˜ ì¡°í•©

### Phase 3 (6-12ê°œì›”)
- â­ï¸ ê³ ê¸‰ ì–¼êµ´ ì• ë‹ˆë©”ì´ì…˜
- â­ï¸ ì‹¤ì‹œê°„ ëª¨ì…˜ ì¡°ì •
- â­ï¸ ì»¤ìŠ¤í…€ ëª¨ì…˜ ìƒì„±

## ìƒì„±ëœ íŒŒì¼

```
orchestrator/motion/
â”œâ”€â”€ motion_pipeline_v2.py      # ì‹¤ì„œë¹„ìŠ¤ íŒŒì´í”„ë¼ì¸ âœ…
â”œâ”€â”€ motion_templates.py         # ì‚¬ì „ ì •ì˜ í…œí”Œë¦¿ âœ…
â”œâ”€â”€ motion_applier.py           # FFmpeg ì ìš©ê¸° âœ…
â”œâ”€â”€ motion_api.py               # FastAPI ì—”ë“œí¬ì¸íŠ¸ âœ…
â”œâ”€â”€ motion_schema_final.json    # JSON ìŠ¤í‚¤ë§ˆ âœ…
â”œâ”€â”€ processing_steps.md        # ì²˜ë¦¬ ë‹¨ê³„ âœ…
â””â”€â”€ motion_comparison.md        # ë¹„êµ ë¬¸ì„œ âœ…
```

## ì‚¬ìš© ì˜ˆì‹œ

```python
from orchestrator.motion import MotionPipelineV2, MotionApplier

# íŒŒì´í”„ë¼ì¸ ì´ˆê¸°í™”
pipeline = MotionPipelineV2(orchestrator)
applier = MotionApplier()

# ëª¨ì…˜ ìƒì„±
result = await pipeline.process(
    image_path="character.jpg",
    prompt="í–‰ë³µí•œ í‘œì •, ê³ ê°œ ë„ë•ì„",
    duration=5.0,
    use_ai=True
)

# ëª¨ì…˜ ì ìš©
video_result = await applier.apply_motion(
    image_path="character.jpg",
    motion_data=result.motion_data
)
```

## í•µì‹¬ ì›ì¹™ êµ¬í˜„

âœ… **AIë§Œ ë¯¿ì§€ ì•ŠëŠ”ë‹¤**: 4ë‹¨ê³„ Fallback
âœ… **ë‹¨ê³„ë³„ ì²˜ë¦¬**: ê¸°ë³¸ â†’ í–¥ìƒ â†’ ê³ ê¸‰ â†’ ì‹¤íŒ¨
âœ… **í•­ìƒ ê²°ê³¼ ìƒì„±**: ìµœì†Œí•œ ê¸°ë³¸ ëª¨ì…˜ ì œê³µ
âœ… **ì‹¤ì„œë¹„ìŠ¤ ê¸°ì¤€**: ì—°êµ¬ ë‹¨ê³„ ê¸°ìˆ  ì œì™¸

---

**ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ì´ ì‹¤ì„œë¹„ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸ‰
