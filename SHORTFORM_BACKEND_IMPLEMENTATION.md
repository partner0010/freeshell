# μνΌ μλ™ μƒμ„± λ°±μ—”λ“ κµ¬ν„ μ™„λ£

## β… μ™„μ„±λ 3λ‹¨κ³„

### STEP 1: μνΌ μλ™ μƒμ„± λ°±μ—”λ“ μ½”λ“ β…
- **λ””λ ‰ν† λ¦¬ κµ¬μ΅°**:
  ```
  backend/shortform/
  β”β”€β”€ api/
  β”‚   β””β”€β”€ main.py                    # FastAPI μ—”λ“ν¬μΈνΈ
  β”β”€β”€ services/
  β”‚   β”β”€β”€ prompt_refiner.py          # ν”„λ΅¬ν”„νΈ μ •μ 
  β”‚   β”β”€β”€ script_generator.py        # μ¤ν¬λ¦½νΈ μƒμ„± (LLM)
  β”‚   β”β”€β”€ scene_generator.py         # Scene JSON μƒμ„±
  β”‚   β”β”€β”€ character_generator.py     # μΊλ¦­ν„° λ©”νƒ€ μƒμ„±
  β”‚   β”β”€β”€ tts_generator.py           # TTS μμ„± μƒμ„±
  β”‚   β”β”€β”€ subtitle_generator.py      # μλ§‰ μƒμ„±
  β”‚   β”β”€β”€ video_renderer.py          # FFmpeg λ λ”λ§
  β”‚   β””β”€β”€ job_manager.py            # μ‘μ—… κ΄€λ¦¬
  β””β”€β”€ requirements.txt               # Python μμ΅΄μ„±
  ```

- **μ£Όμ” μ—”λ“ν¬μΈνΈ**:
  - `POST /generate/shortform`: μνΌ μƒμ„± μ”μ²­
  - `GET /job/{job_id}/status`: μ‘μ—… μƒνƒ μ΅°ν
  - `GET /job/{job_id}/download`: μ™„μ„±λ μμƒ λ‹¤μ΄λ΅λ“

- **μ²λ¦¬ νλ¦„**:
  1. API μ”μ²­ μμ‹  β†’ 2. ν”„λ΅¬ν”„νΈ μ •μ  β†’ 3. μ¤ν¬λ¦½νΈ μƒμ„± (LLM) β†’ 4. Scene JSON μƒμ„± β†’ 5. μΊλ¦­ν„° λ©”νƒ€ μƒμ„± β†’ 6. TTS μμ„± μƒμ„± β†’ 7. μλ§‰ μƒμ„± β†’ 8. FFmpeg λ λ”λ§ β†’ 9. κ²°κ³Ό λ°ν™

### STEP 2: freeshell μ—λ””ν„° UI ν†µν•© β…
- **νμΌ κµ¬μ΅°**:
  ```
  app/
  β”β”€β”€ studio/
  β”‚   β””β”€β”€ shortform/
  β”‚       β””β”€β”€ page.tsx              # μνΌ μ¤νλ””μ¤ νμ΄μ§€
  β””β”€β”€ api/
      β””β”€β”€ studio/
          β””β”€β”€ shortform/
              β”β”€β”€ generate/
              β”‚   β””β”€β”€ route.ts       # μƒμ„± API ν”„λ΅μ‹
              β””β”€β”€ job/
                  β””β”€β”€ [jobId]/
                      β””β”€β”€ status/
                          β””β”€β”€ route.ts  # μƒνƒ μ΅°ν API ν”„λ΅μ‹
  ```

- **ν†µν•© λ°©μ‹**:
  - κΈ°μ΅΄ λ©”λ‰΄ κµ¬μ΅° μ μ§€
  - μ‹ κ· "μ½ν…μΈ  μ¤νλ””μ¤" λ©”λ‰΄ μ¶”κ°€
  - κΈ°μ΅΄ μΈμ¦ μ‹μ¤ν… μ¬μ‚¬μ©
  - κΈ°μ΅΄ Navbar μ»΄ν¬λ„νΈ μ¬μ‚¬μ©

- **UI νλ¦„**:
  1. ν”„λ΅¬ν”„νΈ μ…λ ¥ β†’ 2. μ¤νƒ€μΌ/κΈΈμ΄ μ„ νƒ β†’ 3. μƒμ„± μ‹μ‘ β†’ 4. μ§„ν–‰ μƒνƒ ν‘μ‹ β†’ 5. μ™„λ£ μ‹ λ‹¤μ΄λ΅λ“

### STEP 3: GPU λ…ΈνΈλ¶ κΈ°μ¤€ μ‹¤μ  μ„Έν… β…
- **νμΌ**: `lib/allinone-studio/infrastructure/gpu-laptop-setup.ts`
- **λ‚΄μ©**:
  - GPU λ…ΈνΈλ¶ ν•κ³„ λ¶„μ„ (VRAM 6GB/8GB/12GB)
  - μ‹¤ν–‰ κ°€λ¥ν• AI λ¨λΈ μ„ νƒ κΈ°μ¤€
  - μ‘μ—… ν λ° μμ°¨ μ²λ¦¬ μ „λµ
  - VRAM κ΄€λ¦¬ μ „λµ
  - κ³Όλ¶€ν• λ°©μ§€ μ •μ±…
  - MVP μ΄μ μ‹ κ¶μ¥ μ„¤μ •

- **κ¶μ¥ μ„¤μ •**:
  - LLM: `llama3.1:8b-q4` (μ–‘μν™”)
  - μ΄λ―Έμ§€: `stable-diffusion-1.5`
  - TTS: `edge-tts` (CPUλ§ μ‚¬μ©)
  - λ™μ‹ μ‘μ—…: 1κ° (μμ°¨ μ²λ¦¬)

## π€ μ‹¤ν–‰ λ°©λ²•

### 1. λ°±μ—”λ“ μ„λ²„ μ‹¤ν–‰
```bash
cd backend/shortform
pip install -r requirements.txt
python api/main.py
```

### 2. ν™κ²½ λ³€μ μ„¤μ •
```bash
# .env
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b-q4
STABLE_DIFFUSION_URL=http://localhost:7860
TTS_ENGINE=edge
SHORTFORM_BACKEND_URL=http://localhost:8000
```

### 3. ν•„μ”ν• μ„λΉ„μ¤ μ‹¤ν–‰
```bash
# Ollama
ollama serve
ollama pull llama3.1:8b-q4

# Stable Diffusion (μ„ νƒμ‚¬ν•­)
# stable-diffusion-webui μ‹¤ν–‰

# Edge TTSλ” Python ν¨ν‚¤μ§€λ΅ μ„¤μΉλ¨
```

## π“ ν•µμ‹¬ νΉμ§•

### 1. μ‹¤μ  μ‹¤ν–‰ κ°€λ¥ν• μ½”λ“
- λ¨λ“  ν•¨μκ°€ μ‹¤μ  κµ¬ν„λ¨
- μ—λ¬ μ²λ¦¬ λ° Fallback ν¬ν•¨
- λΉ„λ™κΈ° μ²λ¦¬ κµ¬μ΅°

### 2. GPU λ…ΈνΈλ¶ μµμ ν™”
- μμ°¨ μ²λ¦¬λ΅ VRAM λ¶€μ΅± λ°©μ§€
- μ–‘μν™” λ¨λΈ μ‚¬μ©
- μ¨λ„ λ¨λ‹ν„°λ§ λ° μλ™ μ΅°μ 

### 3. λ¬΄λ£ AI μ„λΉ„μ¤ μ‚¬μ©
- Ollama (λ΅μ»¬ LLM)
- Stable Diffusion (λ΅μ»¬ μ΄λ―Έμ§€ μƒμ„±)
- Edge TTS (λ¬΄λ£ TTS)

### 4. freeshell ν†µν•©
- κΈ°μ΅΄ κµ¬μ΅° μ μ§€
- μμ—°μ¤λ¬μ΄ UI ν†µν•©
- μΈμ¦ μ‹μ¤ν… μ¬μ‚¬μ©

## β οΈ μ£Όμμ‚¬ν•­

### GPU λ…ΈνΈλ¶ μ΄μ μ‹
- λ™μ‹ μ‘μ—… 1κ°λ§ μ²λ¦¬ (μμ°¨)
- VRAM μ‚¬μ©λ‰ λ¨λ‹ν„°λ§ ν•„μ
- μ¨λ„ κ΄€λ¦¬ μ¤‘μ”
- λ°°ν„°λ¦¬ λ¨λ“μ—μ„λ” GPU μ‚¬μ© μµμ†ν™”

### MVP μ΄μ μ‹
- μ‚¬μ©μ μ ν•: λ¬΄λ£ 3κ°/μ‹κ°„, 10κ°/μΌ
- μ‘μ—… νƒ€μ„μ•„μ›ƒ: 5λ¶„
- ν ν¬κΈ°: μµλ€ 5κ°

---

**μνΌ μλ™ μƒμ„± λ°±μ—”λ“ κµ¬ν„μ΄ μ™„λ£λμ—μµλ‹λ‹¤!** π¬
